{
  "id": "cx",
  "name": "Codex",
  "aliases": ["codex", "cx"],

  "cli": {
    "command": "codex",
    "implementFlag": "--full-auto",
    "implementPrompt": "/prompts:aigon-feature-implement {featureId}"
  },

  "placeholders": {
    "AGENT_ID": "cx",
    "AGENT_NAME": "Codex",
    "AGENT_TITLE": "Codex Configuration",
    "ARG_SYNTAX": "$ARGUMENTS",
    "ARG1_SYNTAX": "$1",
    "CMD_PREFIX": "/prompts:aigon-",
    "AGENT_TEAMS_RESEARCH_NOTE": "",
    "AGENT_TEAMS_FEATURE_NOTE": "",
    "PERMISSION_SAVE_NOTE": "",
    "AGENT_DEV_SERVER_NOTE": "\n> **CRITICAL — Codex dev server rules:**\n>\n> **NEVER run `npm run dev`, `next dev`, or any dev command directly.** Port 3000 is the main app — worktree agents must NEVER bind to it.\n>\n> Because Codex kills background processes when shell commands exit, use `--register-only` mode:\n>\n> 1. Run `aigon dev-server start --register-only` — allocates your agent's port (offset from base, e.g. cx gets +3) and writes it to `.env.local`\n> 2. Read the allocated port: `grep ^PORT= .env.local`\n> 3. Start the server in a **persistent terminal session** using `/terminal`: `PORT=<the-port> npm run dev`\n> 4. Get your app URL: `aigon dev-server url` — this prints the proxy subdomain (e.g. `http://cx-121.myapp.test`) or the localhost URL\n> 5. Use that URL for all testing — NEVER use `http://localhost:3000`\n"
  },

  "output": {
    "format": "markdown",
    "commandDir": "~/.codex/prompts",
    "commandFilePrefix": "aigon-",
    "commandFileExtension": ".md",
    "frontmatter": ["description", "args"],
    "global": true
  },

  "rootFile": null,
  "agentFile": "codex.md",
  "templatePath": "generic/docs/agent.md",

  "extras": {
    "prompt": {
      "enabled": true,
      "path": ".codex/prompt.md"
    },
    "config": {
      "enabled": true,
      "path": ".codex/config.toml"
    }
  },

  "commands": [
    "feature-create",
    "feature-now",
    "feature-prioritise",
    "feature-setup",
    "feature-implement",
    "feature-submit",
    "feature-eval",
    "feature-review",
    "feature-done",
    "feature-cleanup",
    "board",
    "worktree-open",
    "research-create",
    "research-prioritise",
    "research-setup",
    "research-open",
    "research-conduct",
    "research-synthesize",
    "research-done",
    "feedback-create",
    "feedback-list",
    "feedback-triage",
    "dev-server",
    "help"
  ]
}
